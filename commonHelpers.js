import{a as p,S as g,i as l}from"./assets/vendor-f144e563.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const y=async(s,o)=>await p.get(`https://pixabay.com/api/?key=20439634-6c644a175487626659667f77f&q=${s}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=40`),f=document.querySelector(".search-form"),m=document.querySelector(".gallery"),c=document.querySelector(".load-more");let u=1,d="";const L=new g(".gallery a",{});c.addEventListener("click",s=>{u+=1,h(d,u)});f.addEventListener("submit",s=>{if(s.preventDefault(),u=1,c.classList.add("hidden"),m.innerHTML="",d=f.searchQuery.value,d==""){l.warning({title:"No request",message:"Please add query for request"});return}h(d,u)});function h(s,o){y(s,o).then(t=>{if(t.data.totalHits==0)throw error;return o==1&&l.success({title:"Success",message:`Hooray! We found ${t.data.totalHits} images.`}),t.data}).then(t=>{const e=t.hits.map(r=>w(r));if(m.append(...e),L.refresh(),e.length>0){const r=e[0],i=120,a=r.offsetTop-i;window.scrollTo({top:a,behavior:"smooth"})}b(t.totalHits,m)?c.classList.remove("hidden"):(l.warning({title:"End of list",message:"We're sorry, but you've reached the end of search results."}),c.classList.add("hidden"))}).catch(t=>{c.classList.add("hidden"),l.error({title:"No matches",message:"No matches with you request"})})}function b(s,o){let t=o.childNodes.length;return s!=t}function w(s){const o=document.createElement("a");o.classList.add("photo-card"),o.href=s.largeImageURL;const n=document.createElement("img");n.src=s.webformatURL,n.alt=s.tags,n.loading="lazy",o.appendChild(n);const t=document.createElement("div");t.classList.add("info");const e=document.createElement("p");e.classList.add("info-item"),e.innerHTML=`<b>${s.likes}<br>Likes</br>`,t.appendChild(e);const r=document.createElement("p");r.classList.add("info-item"),r.innerHTML=`<b>${s.views}<br>Views</b>`,t.appendChild(r);const i=document.createElement("p");i.classList.add("info-item"),i.innerHTML=`<b>${s.comments}<br>Comments</b>`,t.appendChild(i);const a=document.createElement("p");return a.classList.add("info-item"),a.innerHTML=`<b>${s.downloads}<br>Downloads</b>`,t.appendChild(a),o.appendChild(t),o}
//# sourceMappingURL=commonHelpers.js.map
