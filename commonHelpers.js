import{a as g,S as y,i as d}from"./assets/vendor-f144e563.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();const L=async(t,o)=>await g.get(`https://pixabay.com/api/?key=20439634-6c644a175487626659667f77f&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=40`),f=document.querySelector(".search-form"),l=document.querySelector(".gallery"),c=document.querySelector(".load-more");let m=1,u="";const h=new y(".gallery a",{});c.addEventListener("click",t=>{m+=1,p(u,m)});f.addEventListener("submit",t=>{t.preventDefault(),l.innerHTML="",u=f.searchQuery.value,p(u,m)});l.addEventListener("click",t=>{t.preventDefault(),t.target.tagName=="IMG"&&h.show()});function p(t,o){L(t,o).then(r=>{if(r.data.totalHits==0)throw error;return o==1&&d.success({title:"Success",message:`Hooray! We found ${r.data.totalHits} images.`}),r.data}).then(r=>{const e=r.hits.map(s=>w(s));if(l.append(...e),h.refresh(),e.length>0){const s=e[0],i=120,a=s.offsetTop-i;window.scrollTo({top:a,behavior:"smooth"})}b(r.totalHits,l)?c.classList.remove("hidden"):(d.warning({title:"End of list",message:"We're sorry, but you've reached the end of search results."}),c.classList.add("hidden"))}).catch(r=>{c.classList.add("hidden"),d.error({title:"No matches",message:"No matches with you request"})})}function b(t,o){let r=o.childNodes.length;return t!=r}function w(t){const o=document.createElement("a");o.classList.add("photo-card"),o.href=t.largeImageURL;const n=document.createElement("img");n.src=t.webformatURL,n.alt=t.tags,n.loading="lazy",o.appendChild(n);const r=document.createElement("div");r.classList.add("info");const e=document.createElement("p");e.classList.add("info-item"),e.innerHTML=`<b>${t.likes}<br>Likes</br>`,r.appendChild(e);const s=document.createElement("p");s.classList.add("info-item"),s.innerHTML=`<b>${t.views}<br>Views</b>`,r.appendChild(s);const i=document.createElement("p");i.classList.add("info-item"),i.innerHTML=`<b>${t.comments}<br>Comments</b>`,r.appendChild(i);const a=document.createElement("p");return a.classList.add("info-item"),a.innerHTML=`<b>${t.downloads}<br>Downloads</b>`,r.appendChild(a),o.appendChild(r),o}
//# sourceMappingURL=commonHelpers.js.map
