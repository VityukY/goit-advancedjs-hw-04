{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst requestHandler = async (request, page) => {\n  const result = await axios.get(\n    `https://pixabay.com/api/?key=20439634-6c644a175487626659667f77f&q=${request}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`\n  );\n  return result;\n};\n\nexport { requestHandler };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { requestHandler } from './js/api';\n\nconst formRef = document.querySelector('.search-form');\nconst galleryRef = document.querySelector('.gallery');\nconst loadBrnRef = document.querySelector('.load-more');\n\nlet page = 1;\nlet searchQuery = '';\n\nloadBrnRef.addEventListener('click', e => {\n  page += 1;\n  galleryHandler(searchQuery, page);\n});\n\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n  galleryRef.innerHTML = '';\n  searchQuery = formRef.searchQuery.value;\n  galleryHandler(searchQuery, page);\n});\n\nfunction galleryHandler(searchQuery, page) {\n  const serchData = requestHandler(searchQuery, page);\n  serchData\n    .then(result => {\n      return result.data.hits;\n    })\n    .then(data => {\n      const galleryItems = data.map(elem => {\n        return createCard(elem);\n      });\n      galleryRef.append(...galleryItems);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\nfunction imageCartHandler(data) {\n  const cart = `<div class=\"photo-card\">\n    <img src=\"${data.webformatURL}\" alt=\"${data.tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>${data.likes} Likes</b>\n      </p>\n      <p class=\"info-item\">\n        <b>${data.views} Views</b>\n      </p>\n      <p class=\"info-item\">\n        <b>${data.comments}Comments</b>\n      </p>\n      <p class=\"info-item\">\n        <b>${data.downloads} Downloads</b>\n      </p>\n    </div>`;\n  return cart;\n}\n\nfunction createCard(data) {\n  // Create the main card container\n  const card = document.createElement('div');\n  card.classList.add('photo-card');\n\n  // Create the image element\n  const img = document.createElement('img');\n  img.src = data.webformatURL;\n  img.alt = data.tags;\n  img.loading = 'lazy';\n\n  // Append the image to the card\n  card.appendChild(img);\n\n  // Create the info container\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  // Create the likes element\n  const likes = document.createElement('p');\n  likes.classList.add('info-item');\n  likes.innerHTML = `<b>${data.likes} Likes</b>`;\n  info.appendChild(likes);\n\n  // Create the views element\n  const views = document.createElement('p');\n  views.classList.add('info-item');\n  views.innerHTML = `<b>${data.views} Views</b>`;\n  info.appendChild(views);\n\n  // Create the comments element\n  const comments = document.createElement('p');\n  comments.classList.add('info-item');\n  comments.innerHTML = `<b>${data.comments} Comments</b>`;\n  info.appendChild(comments);\n\n  // Create the downloads element\n  const downloads = document.createElement('p');\n  downloads.classList.add('info-item');\n  downloads.innerHTML = `<b>${data.downloads} Downloads</b>`;\n  info.appendChild(downloads);\n\n  // Append the info container to the card\n  card.appendChild(info);\n\n  return card;\n}\n"],"names":["requestHandler","request","page","axios","formRef","galleryRef","loadBrnRef","searchQuery","e","galleryHandler","result","data","galleryItems","elem","createCard","error","card","img","info","likes","views","comments","downloads"],"mappings":"svBAEA,MAAMA,EAAiB,MAAOC,EAASC,IACtB,MAAMC,EAAM,IACzB,qEAAqEF,CAAO,iEAAiEC,CAAI,cACrJ,ECCME,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAa,SAAS,cAAc,YAAY,EAEtD,IAAIJ,EAAO,EACPK,EAAc,GAElBD,EAAW,iBAAiB,QAASE,GAAK,CACxCN,GAAQ,EACRO,EAAeF,EAAaL,CAAI,CAClC,CAAC,EAEDE,EAAQ,iBAAiB,SAAUI,GAAK,CACtCA,EAAE,eAAc,EAChBH,EAAW,UAAY,GACvBE,EAAcH,EAAQ,YAAY,MAClCK,EAAeF,EAAaL,CAAI,CAClC,CAAC,EAED,SAASO,EAAeF,EAAaL,EAAM,CACvBF,EAAeO,EAAaL,CAAI,EAE/C,KAAKQ,GACGA,EAAO,KAAK,IACpB,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAAeD,EAAK,IAAIE,GACrBC,EAAWD,CAAI,CACvB,EACDR,EAAW,OAAO,GAAGO,CAAY,CACvC,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAqBA,SAASD,EAAWH,EAAM,CAExB,MAAMK,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAG/B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMN,EAAK,aACfM,EAAI,IAAMN,EAAK,KACfM,EAAI,QAAU,OAGdD,EAAK,YAAYC,CAAG,EAGpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAGzB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,UAAU,IAAI,WAAW,EAC/BA,EAAM,UAAY,MAAMR,EAAK,KAAK,aAClCO,EAAK,YAAYC,CAAK,EAGtB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,UAAU,IAAI,WAAW,EAC/BA,EAAM,UAAY,MAAMT,EAAK,KAAK,aAClCO,EAAK,YAAYE,CAAK,EAGtB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,UAAY,MAAMV,EAAK,QAAQ,gBACxCO,EAAK,YAAYG,CAAQ,EAGzB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5C,OAAAA,EAAU,UAAU,IAAI,WAAW,EACnCA,EAAU,UAAY,MAAMX,EAAK,SAAS,iBAC1CO,EAAK,YAAYI,CAAS,EAG1BN,EAAK,YAAYE,CAAI,EAEdF,CACT"}